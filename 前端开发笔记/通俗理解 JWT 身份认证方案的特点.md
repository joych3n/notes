# 通俗理解 JWT 身份认证方案的特点

## JWT 是一种登录系统的身份验证方案，使用 Access Token + Refresh Token 的双 Token 方式 ，高频的请求使用自验证的 Access Token，而低频的请求才使用需要查询的 Refresh Token，兼顾了安全性和性能 。

## 一、两个 Token 的分工协作

1. Access Token（短时效，无状态）

   - 有效期：一般 5-30 分钟

   - 特点：包含用户信息，服务端只需验证签名和过期时间即可，无需查库

   - 使用频率：高（每个接口请求都带上）

   - 优点：快、轻、不依赖数据库，非常适合高并发 API 请求

   - 缺点：无法主动撤销，一旦泄露只能等它过期

2. Refresh Token（长时效，有状态）

   - 有效期：一般 7 天、14 天甚至 30 天

   - 特点：用于换发新的 Access Token

   - 使用频率：低（只有 Access Token 过期时使用）

   - 通常服务端会记录它（如数据库/Redis）以实现：

     - 用户登出时可撤销

     - 检测是否过期

     - 检测是否被篡改/盗用

## 二、打个通俗比喻

有一家公司规定，持有当日通行证的人才能进入办公大楼。

Refresh Token 像你公司的人事档案：每天早上查询人事档案，属于在职员工的可以领取当日通行证，离职时就会从人事处注销。

Access Token 像当日通行证：带着就能自由进出办公大楼，安保不查人事档案，只要快速辨认证件是不是当日且真实的。

注意：如果你中午离职了，下午你还是能自由进去办公大楼，因为你有当日通行证。

## 三、总结

1. 用短时效的无状态 Access Token 来应对高频请求，服务端不需要查数据库或状态存储，大大降低服务端的压力；
2. 用长时效的 Refresh Token 实现安全可控的续期机制，弥补 Access Token 无法主动失效的缺陷，降低被盗风险。
3. Access Token 一旦被盗无法撤销，但有效期短；Refresh Token 可控，能帮助安全地换发新 Token。
