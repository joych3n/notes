# Node.js 中 npm 和 npx 的区别

npm 和 npx 是 Node.js 包管理工具中两个重要的命令，它们有不同的用途和功能，让我们详细探讨一下 **`npm`** 和 **`npx`** 之间的区别。

---

### **npm（Node Package Manager）**

**`npm`** 是 Node.js 的包管理器，用于安装、共享、分发代码，以及管理项目中的依赖关系。

---

### **npx（Node Package eXecute）**

**`npx`** 是 npm 5.2.0 版本引入的命令，旨在简化对 Node.js 包中可执行文件的使用。

---

### **主要区别**

1. **功能定位**：

   - **`npm`**：主要用于**安装和管理**包，以及管理项目的依赖关系。
   - **`npx`**：主要用于**执行**包中的可执行文件，无需先安装它们。

2. **使用场景**：

   - **`npm`**：

     - 当需要安装一个包到本地项目或全局环境时使用。
     - 用于管理和维护项目的依赖关系。

   - **`npx`**：

     - 当你想要立即使用某个包的可执行命令，但不想全局安装它时。
     - 适用于一次性任务或试用某个工具。

3. **全局安装 vs 临时执行**：

   - **`npm`** 安装的全局包会一直存在于你的系统中，可能会导致版本冲突。
   - **`npx`** 允许你临时使用最新版本的包，不会污染全局环境。

4. **执行本地依赖包的可执行文件**：

   - 使用 **`npx`** 可以轻松执行项目中本地安装的包的命令，而无需指定路径。

     ```bash
     npx <package-name>
     ```

   - 使用 **`npm`** 则需要在脚本中引用 `node_modules/.bin` 目录下的可执行文件，或配置 `scripts` 字段。

---

### **示例对比**

- **使用 `npm` 全局安装并运行**

  ```bash
  npm install -g create-react-app
  create-react-app my-app
  ```

  - 这会将 `create-react-app` 安装到全局环境，可随时使用。
  - 可能导致全局包版本过时，需要手动更新。

- **使用 `npx` 直接运行**

  ```bash
  npx create-react-app my-app
  ```

  - `npx` 会执行最新版本的 `create-react-app`，无需全局安装。
  - 每次运行都会检查并使用最新版本。

---

### **何时使用 `npm`，何时使用 `npx`**

- **使用 `npm`**：

  - 当你需要在项目中安装某个包作为依赖时。
  - 当你需要全局安装某个命令行工具，并频繁使用它时。

- **使用 `npx`**：

  - 当你需要临时使用某个工具，或只想试用一下时。
  - 当你不想全局安装包，避免潜在的版本冲突。
  - 当你希望每次执行时都使用该工具的最新版本。

---

### **总结**

- **`npm`** 是用于**安装和管理**包的工具，负责维护项目的依赖关系。

- **`npx`** 是用于**执行**包中可执行文件的工具，可以方便地运行本地或远程的命令，无需全局安装。
